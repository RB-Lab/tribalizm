{
  "name": "tribalizm",
  "version": "1.1.0",
  "description": "Real life MMORPG networking",
  "main": "index.ts",
  "repository": "-",
  "author": "RB-Lab",
  "license": "UNLICENZED",
  "private": true,
  "scripts": {
    "start:bot": "ts-node --transpile-only src/main.ts",
    "start:bot-dev": "source ./.env.dev && nodemon src/plugins/ui/telegram/ui-tests-mock-bot.ts",
    "start:admin": "ts-node --transpile-only src/admin.ts",
    "build:images": "docker-compose --env-file ./.env.build build",
    "push:login": "aws ecr get-login-password --region eu-central-1 | docker login --username AWS --password-stdin \"${REGISTRY}\"",
    "push:tag": "sh -c 'docker tag \"${0}\" ${REGISTRY}/\"${0}\"'",
    "push:push": "sh -c 'docker push \"${REGISTRY}\"/\"${0}\"'",
    "push": "export $(egrep -v '^#' .env.build | xargs) && sh -c 'yarn push:login && yarn push:tag \"${0}\" && yarn push:push \"${0}\"'",
    "push:all": "yarn push tribalizm-bot:\"${npm_package_version}\" && yarn push tribalizm-admin:\"${npm_package_version}\"",
    "deploy": "export $(egrep -v '^#' .env.build | xargs) && pushd deploy && ansible-playbook deploy.yml && popd",
    "preversion": "yarn tsc --noEmit && yarn test:full",
    "postversion": "yarn build:images",
    "postbuild:images": "yarn push:all",
    "postpush:all": "yarn deploy",
    "test": "NODE_ENV=test ts-node ./node_modules/.bin/jasmine './src/**/*.spec.ts'",
    "test:full": "NODE_ENV=test FULL_TEST='true' ts-node ./node_modules/.bin/jasmine './src/**/*.spec.ts'",
    "tdd": "NODE_ENV=test tsnd --rs --respawn ./node_modules/.bin/jasmine './src/**/*.spec.ts'",
    "depcruise": "depcruise --include-only '^src' --output-type dot src | dot -T svg | depcruise-wrap-stream-in-html > docs/dependecies.html",
    "bridge": "ssh -R 5000:localhost:3000 rblab.net",
    "i18n": "typesafe-i18n"
  },
  "dependencies": {
    "@types/express": "^4.17.11",
    "@types/inquirer": "^8.1.3",
    "@types/inquirer-autocomplete-prompt": "^1.3.3",
    "@types/mongodb": "^3.6.12",
    "@types/node": "^14.14.20",
    "express": "^4.17.1",
    "inquirer": "^8.2.0",
    "inquirer-autocomplete-prompt": "^1.4.0",
    "mongodb": "^3.6.6",
    "prom-client": "^14.0.1",
    "telegraf": "^4.4.2",
    "telegraf-calendar-telegram": "^1.5.8",
    "timezone-name-offsets": "^1.0.2",
    "ts-node": "^9.1.1",
    "typesafe-i18n": "^2.55.1",
    "typescript": "^4.1.3",
    "winston": "^3.3.3"
  },
  "devDependencies": {
    "@types/jasmine": "^3.6.2",
    "dependency-cruiser": "^10.5.0",
    "jasmine": "^3.6.3",
    "mongodb-memory-server": "^6.9.6",
    "nodemon": "^2.0.7",
    "ts-node-dev": "^1.1.6"
  }
}
